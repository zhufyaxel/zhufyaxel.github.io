$(document).ready(function(){$("body").append('\n    <div id="floating-video-overlay">\n      <div id="floating-video-container">\n        <video id="floating-video" controls autoplay loop></video>\n        <button id="close-floating-video">&times;</button>\n      </div>\n    </div>\n  '),$("<style>").text("\n      #floating-video-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.85);\n        z-index: 9999;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      #floating-video-container {\n        position: relative;\n        width: 80%;\n        max-width: 1200px;\n      }\n      #floating-video {\n        width: 100%;\n        height: auto;\n        border-radius: 4px;\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n      }\n      #close-floating-video {\n        position: absolute;\n        top: -40px;\n        right: -40px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        background-color: rgba(255, 255, 255, 0.2);\n        border: none;\n        color: white;\n        font-size: 24px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: background-color 0.3s;\n      }\n      #close-floating-video:hover {\n        background-color: rgba(255, 255, 255, 0.4);\n      }\n    ").appendTo("head"),$(".video-container[data-zoomable]").on("click",function(o){o.preventDefault();const n=$(this).find("video")[0];if(!n)return;const i=n.currentSrc||n.src;if(!i)return;const e=$("#floating-video")[0];e.src=i,$("#floating-video-overlay").addClass("visible"),e.play()}),$(".video-fallback").on("click",function(o){o.preventDefault();const n=$(this).data("video-path");if(!n)return;const i=$("#floating-video")[0];i.src=n,$("#floating-video-overlay").addClass("visible"),i.play()}),$("#close-floating-video").on("click",function(){$("#floating-video-overlay").removeClass("visible"),setTimeout(function(){$("#floating-video")[0].pause()},300)}),$("#floating-video-overlay").on("click",function(o){o.target===this&&($(this).removeClass("visible"),setTimeout(function(){$("#floating-video")[0].pause()},300))}),$("video").each(function(){$(this)[0];const o=$(this).attr("src");if(o&&!o.includes("?")){const n=o+"?t="+(new Date).getTime();$(this).attr("src",n)}$(this).on("error",function(){console.error("Video failed to load:",o),$(this).attr("type","video/mp4"),$(this).on("error",function(){$(this).replaceWith('<div class="video-error">Video could not be loaded</div>')})})}),$(document).keydown(function(o){"Escape"===o.key&&$("#floating-video-overlay").hasClass("visible")&&($("#floating-video-overlay").removeClass("visible"),setTimeout(function(){$("#floating-video")[0].pause()},300))})});